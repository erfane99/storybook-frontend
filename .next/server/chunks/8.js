exports.id=8,exports.ids=[8],exports.modules={3244:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=3244,e.exports=r},567:(e,r,t)=>{"use strict";t.d(r,{C:()=>l});var s=t(326);t(7577);var a=t(9360),o=t(7863);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:r,...t}){return s.jsx("div",{className:(0,o.cn)(i({variant:r}),e),...t})}},2643:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>l,SZ:()=>d,Zb:()=>i,aY:()=>c,eW:()=>m,ll:()=>n});var s=t(326),a=t(7577),o=t(7863);let i=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let l=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let n=a.forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));n.displayName="CardTitle";let d=a.forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let m=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",e),...r}));m.displayName="CardFooter"},4432:(e,r,t)=>{"use strict";t.d(r,{I:()=>i});var s=t(326),a=t(7577),o=t(7863);let i=a.forwardRef(({className:e,type:r,...t},a)=>s.jsx("input",{type:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));i.displayName="Input"},4528:(e,r,t)=>{"use strict";t.d(r,{p:()=>z});var s=t(326),a=t(7577),o=t(3095),i=t(5226),l="Progress",[n,d]=(0,o.b)(l),[c,m]=n(l),u=a.forwardRef((e,r)=>{var t,a;let{__scopeProgress:o,value:l=null,max:n,getValueLabel:d=x,...m}=e;(n||0===n)&&!h(n)&&console.error((t=`${n}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let u=h(n)?n:100;null===l||y(l,u)||console.error((a=`${l}`,`Invalid prop \`value\` of value \`${a}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let p=y(l,u)?l:null,f=b(p)?d(p,u):void 0;return(0,s.jsx)(c,{scope:o,value:p,max:u,children:(0,s.jsx)(i.WV.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":b(p)?p:void 0,"aria-valuetext":f,role:"progressbar","data-state":g(p,u),"data-value":p??void 0,"data-max":u,...m,ref:r})})});u.displayName=l;var p="ProgressIndicator",f=a.forwardRef((e,r)=>{let{__scopeProgress:t,...a}=e,o=m(p,t);return(0,s.jsx)(i.WV.div,{"data-state":g(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...a,ref:r})});function x(e,r){return`${Math.round(e/r*100)}%`}function g(e,r){return null==e?"indeterminate":e===r?"complete":"loading"}function b(e){return"number"==typeof e}function h(e){return b(e)&&!isNaN(e)&&e>0}function y(e,r){return b(e)&&!isNaN(e)&&e<=r&&e>=0}f.displayName=p;var v=t(7863);let N=a.forwardRef(({className:e,value:r,...t},a)=>s.jsx(u,{ref:a,className:(0,v.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:s.jsx(f,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));N.displayName=u.displayName;var j=t(772),w=t(2643),C=t(567),S=t(8998),k=t(7506),O=t(361),I=t(9669),T=t(1291),P=t(4019),J=t(1405);let Z={pending:{icon:S.Z,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",label:"Pending"},processing:{icon:k.Z,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",label:"Processing"},completed:{icon:O.Z,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",label:"Completed"},failed:{icon:I.Z,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",label:"Failed"},cancelled:{icon:T.Z,color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",label:"Cancelled"}};function z({jobId:e,jobType:r,status:t,progress:o,currentStep:i,currentPhase:l,estimatedTimeRemaining:n,error:d,onCancel:c,onRetry:m,className:u,showDetails:p=!0,compact:f=!1}){let[x,g]=(0,a.useState)(!1),b=Z[t],h=b.icon,y="pending"===t||"processing"===t&&0===o;return f?(0,s.jsxs)("div",{className:(0,v.cn)("flex items-center gap-3",u),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(h,{className:(0,v.cn)("h-4 w-4",b.color,"processing"===t&&"animate-spin")}),s.jsx(C.C,{variant:"outline",className:(0,v.cn)(b.color),children:b.label})]}),"processing"===t&&(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx(N,{value:y?void 0:o,className:"h-2"}),i&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:i})]}),n&&"processing"===t&&(0,s.jsxs)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:["~",n]})]}):s.jsx(w.Zb,{className:(0,v.cn)("transition-all duration-300",b.bgColor,b.borderColor,x&&"scale-[1.02]",u),children:(0,s.jsxs)(w.aY,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:(0,v.cn)("p-2 rounded-full",b.bgColor,b.borderColor,"border"),children:s.jsx(h,{className:(0,v.cn)("h-5 w-5",b.color,"processing"===t&&"animate-spin")})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("h3",{className:"font-semibold capitalize",children:[r.replace("-"," ")," Generation"]}),s.jsx(C.C,{variant:"outline",className:(0,v.cn)(b.color),children:b.label})]}),p&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Job ID: ",e.slice(-8)]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[c&&"processing"===t&&s.jsx(j.z,{variant:"ghost",size:"sm",onClick:c,className:"text-muted-foreground hover:text-destructive",children:s.jsx(P.Z,{className:"h-4 w-4"})}),m&&"failed"===t&&(0,s.jsxs)(j.z,{variant:"outline",size:"sm",onClick:m,className:"text-muted-foreground",children:[s.jsx(J.Z,{className:"h-4 w-4 mr-1"}),"Retry"]})]})]}),("processing"===t||"pending"===t)&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:y?"Initializing...":`${o}%`}),n&&(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:["~",n," remaining"]})]}),s.jsx(N,{value:y?void 0:o,className:(0,v.cn)("h-3 transition-all duration-500",x&&"animate-pulse")})]}),p&&(i||l)&&(0,s.jsxs)("div",{className:"space-y-2",children:[l&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-primary",children:"Current Phase:"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:l})]}),i&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Status:"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:i})]})]}),d&&"failed"===t&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[s.jsx(T.Z,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Generation Failed"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:d})]})]})}),"completed"===t&&s.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(O.Z,{className:"h-4 w-4 text-green-600"}),s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Generation completed successfully!"})]})})]})})}},6824:(e,r,t)=>{"use strict";async function s(e,r={}){let t=function(e){let r=e.startsWith("/")?e.slice(1):e;return`https://storybook-backend-production-cb71.up.railway.app/${r}`}(e),s={headers:{"Content-Type":"application/json",...r.headers},...r};try{let e=await fetch(t,s);if(!e.ok){let r=await e.json().catch(()=>({}));throw Error(r.error||`HTTP ${e.status}: ${e.statusText}`)}return await e.json()}catch(r){throw console.error(`API request failed for ${e}:`,r),r}}t.d(r,{hi:()=>a});let a={sendOTP:e=>s("api/send-otp",{method:"POST",body:JSON.stringify({phone:e})}),verifyOTP:(e,r)=>s("api/verify-otp",{method:"POST",body:JSON.stringify({phone:e,otp_code:r})}),uploadImage:e=>s("api/upload-image",{method:"POST",body:e,headers:{}}),describeImage:e=>s("api/image/describe",{method:"POST",body:JSON.stringify({imageUrl:e})}),cartoonizeImage:(e,r,t)=>s("api/image/cartoonize",{method:"POST",body:JSON.stringify({prompt:e,style:r,imageUrl:t})}),generateScenes:(e,r,t)=>s("api/story/generate-scenes",{method:"POST",body:JSON.stringify({story:e,characterImage:r,audience:t})}),generateAutoStory:e=>s("api/story/generate-auto-story",{method:"POST",body:JSON.stringify(e)}),createStorybook:e=>s("api/story/create-storybook",{method:"POST",body:JSON.stringify(e)}),generateCartoonImage:e=>s("api/story/generate-cartoon-image",{method:"POST",body:JSON.stringify({image_prompt:e})}),getUserStorybooks:e=>s("api/story/get-user-storybooks",{headers:{Authorization:`Bearer ${e}`}}),getUserStorybookById:(e,r)=>s(`api/story/get-user-storybook-by-id?id=${e}`,{headers:{Authorization:`Bearer ${r}`}}),deleteStorybookById:(e,r)=>s(`api/story/delete-by-id?id=${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}}),requestPrint:(e,r)=>s("api/story/request-print",{method:"POST",headers:{Authorization:`Bearer ${r}`},body:JSON.stringify({storybook_id:e})}),startAutoStoryJob:e=>s("api/jobs/auto-story/start",{method:"POST",body:JSON.stringify(e)}),startScenesJob:e=>s("api/jobs/scenes/start",{method:"POST",body:JSON.stringify(e)}),startStorybookJob:e=>s("api/jobs/storybook/start",{method:"POST",body:JSON.stringify(e)}),getUserJobs:e=>s("api/jobs/user",{headers:{Authorization:`Bearer ${e}`}}),cancelJob:e=>s(`api/jobs/cancel/${e}`,{method:"POST"}),deleteJob:(e,r)=>s(`api/jobs/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}})}},2945:(e,r,t)=>{"use strict";t.d(r,{x:()=>o});var s=t(8655);let a=null;function o(){return a||(a=(0,s.AY)("https://nzkwrrinpweiqcnzeric.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56a3dycmlucHdlaXFjbnplcmljIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY2MTE3NjYsImV4cCI6MjA2MjE4Nzc2Nn0.6KOABidPThLpLfw_YSKvK8YYwF1srRlaFyczTiRF0i8")),a}},1291:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(2881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},361:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(2881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9669:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(2881).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},8998:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(2881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1405:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(2881).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}};